# Part 2: Data

## Data Dictionary

SubjID
: Subject identification number for patient
 
VisitDate
 : Date of the subject's visit 1
 
Age
 : Age (in years) of subject at time of visit 1
 
Sex
 : Participant Biological sex at birth
 : 'Female', if gender = 'F'
 : 'Male', if gender = 'M'
 : missing, otherwise
 
alcw
 : Average number of drinks per week

## Summary statistics

```{r, echo = FALSE, warning = FALSE, message = FALSE}
library(tidyverse)
library(haven)
library(table1)

#load visit 1 data
datav1 <- read_dta("data/analysis1.dta")
visit1 <- datav1 %>% dplyr :: select(subjid, visitdate, age, sex, alcw, htn, diab3cat, strokehx, chdhx, cvdhx, idealhealthsmk, bmi3cat, pa3cat, nutrition3cat, totchol3cat)

visit1 <- visit1 %>% rename(visitdate_v1 = visitdate)

#load adjudicated data

data_allevtstroke <- read_sas("data/allevtstroke.sas7bdat", NULL)
allevtstroke <- data_allevtstroke %>% dplyr :: select(subjid, Stroke, OHDStroke, eventdate)

data_incevtstroke <- read_sas("data/incevtstroke.sas7bdat", NULL)
incevtstroke <- data_incevtstroke %>% dplyr :: select(subjid, stroke, date, V1date, contactType)

allevtstroke <- allevtstroke %>% rename(stroke_allevt = Stroke, ohdstroke = OHDStroke)

incevtstroke <- incevtstroke %>% rename(stroke_incevt = stroke, date_incevt = date, v1date_incevt = V1date, contacttype = contactType)

data_adj <- full_join(allevtstroke, incevtstroke, by = "subjid")

# Create final data set

data <- full_join(data_adj, visit1, by = "subjid")


table1(~ as.factor(stroke_allevt) + as.factor(ohdstroke) +  as.factor(stroke_incevt) + contacttype + age + as.factor(sex) + alcw + as.factor(htn) + as.factor(diab3cat) + as.factor(strokehx) + as.factor(chdhx) + as.factor(cvdhx) + as.factor(idealhealthsmk) + as.factor(bmi3cat) + as.factor(pa3cat) + as.factor(nutrition3cat) + as.factor(totchol3cat)  , data = data)
```

